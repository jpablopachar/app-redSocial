<div class="row">
  <div class="col-md-10">
    <h3>{{ titulo }}</h3>
    <div class="alert alert-success" *ngIf="estado == 'success'" role="alert">
      Mensaje enviado!, revísalo en tus<a [routerLink]="['/mensajes/enviados']"> mensaje enviados</a>
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="alert alert-danger" *ngIf="estado == 'error'" role="alert">El mensaje no se ha podido enviar!. Intentalo más tarde</div>
    <form #formMensaje="ngForm" (ngSubmit)="enviarMensaje(formMensaje)">
      <div class="form-group">
        <label>Para:</label>
        <select class="form-control" *ngIf="seguidos" name="recibido" #recibido="ngModel" [(ngModel)]="mensaje.recibido" title="seleccionar" required>
          <option *ngFor="let suscrito of seguidos" value="{{ suscrito.seguido._id }}">{{ suscrito.seguido.nombres + ' ' + suscrito.seguido.apellidos + ' (' + suscrito.seguido.nombreUsuario + ')' }}</option>
        </select>
      </div>
      <div class="form-group">
        <label>Mensaje: </label>
        <textarea class="form-control" rows="3" name="texto" #texto="ngModel" [(ngModel)]="mensaje.texto" title="mensaje" required></textarea>
        <span *ngIf="!texto.valid && texto.touched">El mensaje es requerido</span>
      </div>
      <button type="submit" class="btn btn-success">Enviar mensaje</button>
    </form>
  </div>
</div>
